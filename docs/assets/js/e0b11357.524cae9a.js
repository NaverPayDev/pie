"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2295],{7411:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(5723),t=n(4639);const i={},a="safe-html-react-parser",l={id:"@naverpay/safe-html-react-parser/README",title:"safe-html-react-parser",description:"A secure wrapper for html-react-parser with isomorphic-dompurify that automatically sanitizes HTML before parsing.",source:"@site/docs/@naverpay/safe-html-react-parser/README.md",sourceDirName:"@naverpay/safe-html-react-parser",slug:"/@naverpay/safe-html-react-parser/",permalink:"/pie/docs/docs/@naverpay/safe-html-react-parser/",draft:!1,unlisted:!1,editUrl:"https://github.com/NaverPayDev/pie/tree/main/packages/@naverpay/safe-html-react-parser/README.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"\uac1c\uc120\uc0ac\ud56d",permalink:"/pie/docs/docs/@naverpay/react-pdf/\uac1c\uc120\uc0ac\ud56d"},next:{title:"@naverpay/svg-manager",permalink:"/pie/docs/docs/@naverpay/svg-manager/"}},o={},c=[{value:"What it does",id:"what-it-does",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"API",id:"api",level:2},{value:"<code>safeParse(htmlString, options?)</code>",id:"safeparsehtmlstring-options",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Options",id:"options",level:4},{value:"Returns",id:"returns",level:4},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Custom Sanitization Config",id:"custom-sanitization-config",level:3},{value:"Preserving Custom Tags",id:"preserving-custom-tags",level:3},{value:"Using with html-react-parser Options",id:"using-with-html-react-parser-options",level:3},{value:"Default Allowed Tags",id:"default-allowed-tags",level:2},{value:"Security Notes",id:"security-notes",level:2},{value:"Built with",id:"built-with",level:2},{value:"License",id:"license",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"safe-html-react-parser",children:"safe-html-react-parser"}),"\n",(0,r.jsxs)(s.p,{children:["A secure wrapper for ",(0,r.jsx)(s.strong,{children:"html-react-parser"})," with ",(0,r.jsx)(s.strong,{children:"isomorphic-dompurify"})," that automatically sanitizes HTML before parsing."]}),"\n",(0,r.jsx)(s.h2,{id:"what-it-does",children:"What it does"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\ud83d\udee1\ufe0f ",(0,r.jsx)(s.strong,{children:"Security"}),": Automatically sanitizes malicious HTML using DOMPurify"]}),"\n",(0,r.jsxs)(s.li,{children:["\u269b\ufe0f ",(0,r.jsx)(s.strong,{children:"React"}),": Seamlessly integrates with html-react-parser"]}),"\n",(0,r.jsxs)(s.li,{children:["\ud83c\udf10 ",(0,r.jsx)(s.strong,{children:"Universal"}),": Works in both browser and Node.js (SSR) environments"]}),"\n",(0,r.jsxs)(s.li,{children:["\ud83c\udff7\ufe0f ",(0,r.jsx)(s.strong,{children:"Custom Tags"}),": Handles project-specific tags like ",(0,r.jsx)(s.code,{children:"<custom>"})," safely"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Node.js >=20.19.5: isomorphic-dompurify@^2.30.1"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npm install @naverpay/safe-html-react-parser\n"})}),"\n",(0,r.jsx)(s.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:"import { safeParse } from '@naverpay/safe-html-react-parser'\n\n// Basic usage - automatically sanitizes dangerous HTML\nconst Component = () => {\n  const maliciousHtml = '<p>Hello <script>alert(\"XSS\")<\/script>World</p>'\n  return <div>{safeParse(maliciousHtml)}</div>\n}\n// Result: <div><p>Hello World</p></div>\n"})}),"\n",(0,r.jsx)(s.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(s.h3,{id:"safeparsehtmlstring-options",children:(0,r.jsx)(s.code,{children:"safeParse(htmlString, options?)"})}),"\n",(0,r.jsx)(s.p,{children:"Parses HTML string into React elements with automatic XSS protection."}),"\n",(0,r.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"htmlString"})," (string): The HTML string to parse"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"options"})," (SafeParseOptions, optional): Configuration options"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"options",children:"Options"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"interface SafeParseOptions extends HTMLReactParserOptions {\n  // DOMPurify configuration\n  sanitizeConfig?: DOMPurify.Config\n  \n  // Custom tags to preserve during sanitization\n  preserveCustomTags?: string[]\n}\n"})}),"\n",(0,r.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"React elements or array of React elements"}),"\n",(0,r.jsx)(s.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,r.jsx)(s.h3,{id:"custom-sanitization-config",children:"Custom Sanitization Config"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:"import { safeParse } from '@naverpay/safe-html-react-parser'\n\nconst html = '<div class=\"content\"><style>body{color:red}</style><p>Text</p></div>'\n\nconst result = safeParse(html, {\n  sanitizeConfig: {\n    ALLOWED_TAGS: ['div', 'p', 'style'], // Allow style tags\n    ALLOWED_ATTR: ['class'],\n    ALLOW_ARIA_ATTR: true\n  }\n})\n"})}),"\n",(0,r.jsx)(s.h3,{id:"preserving-custom-tags",children:"Preserving Custom Tags"}),"\n",(0,r.jsxs)(s.p,{children:["Use ",(0,r.jsx)(s.code,{children:"preserveCustomTags"})," to preserve project-specific tags that would otherwise be removed:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:"import { safeParse } from '@naverpay/safe-html-react-parser'\n\n// Preserve custom tags like <g>, <path>, etc.\nconst svgContent = '<g><path d=\"M10,10 L20,20\"/></g>'\n\nconst result = safeParse(svgContent, {\n  preserveCustomTags: ['g', 'path'],\n  replace: (domNode) => {\n    if (domNode.name === 'g') {\n      return <g {...domNode.attribs}>{/* custom rendering */}</g>\n    }\n    if (domNode.name === 'path') {\n      return <path {...domNode.attribs} />\n    }\n  }\n})\n"})}),"\n",(0,r.jsx)(s.h3,{id:"using-with-html-react-parser-options",children:"Using with html-react-parser Options"}),"\n",(0,r.jsx)(s.p,{children:"All html-react-parser options are supported:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:'import { safeParse } from \'@naverpay/safe-html-react-parser\'\n\nconst html = \'<div id="content"><p>Hello</p><img src="image.jpg" alt="test"/></div>\'\n\nconst result = safeParse(html, {\n  replace: (domNode) => {\n    if (domNode.name === \'img\') {\n      return <img {...domNode.attribs} loading="lazy" />\n    }\n  },\n  trim: true\n})\n'})}),"\n",(0,r.jsx)(s.h2,{id:"default-allowed-tags",children:"Default Allowed Tags"}),"\n",(0,r.jsx)(s.p,{children:"By default, the following HTML tags are allowed:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"ALLOWED_TAGS: [\n  'p', 'br', 'strong', 'em', 'b', 'i', 'u', 'span', 'div',\n  'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h',\n  'ul', 'ol', 'li', 'dl', 'dt', 'dd',\n  'a', 'img'\n]\n"})}),"\n",(0,r.jsx)(s.h2,{id:"security-notes",children:"Security Notes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"All HTML is sanitized by DOMPurify before parsing"}),"\n",(0,r.jsxs)(s.li,{children:["Dangerous tags like ",(0,r.jsx)(s.code,{children:"<script>"}),", ",(0,r.jsx)(s.code,{children:"<iframe>"}),", ",(0,r.jsx)(s.code,{children:"<object>"})," are automatically removed"]}),"\n",(0,r.jsxs)(s.li,{children:["Event handlers like ",(0,r.jsx)(s.code,{children:"onclick"}),", ",(0,r.jsx)(s.code,{children:"onload"})," are stripped out"]}),"\n",(0,r.jsx)(s.li,{children:"Only safe attributes are preserved by default"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"built-with",children:"Built with"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/remarkablemark/html-react-parser",children:"html-react-parser@^5.2.7"})," - HTML string to React element parser"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/kkomelin/isomorphic-dompurify",children:"isomorphic-dompurify@^2.30.1"})," - Universal XSS sanitizer"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,r.jsx)(s.p,{children:"MIT"})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},4639:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var r=n(2155);const t={},i=r.createContext(t);function a(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);